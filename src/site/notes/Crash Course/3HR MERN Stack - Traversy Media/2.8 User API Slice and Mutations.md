---
{"dg-publish":true,"permalink":"/crash-course/3-hr-mern-stack-traversy-media/2-8-user-api-slice-and-mutations/","noteIcon":""}
---

```js
import { apiSlice } from '.';

const USERS_URL = '/api/users';

export const usersApi = apiSlice.injectEndpoints({
  endpoints: (builder) => ({
    login: builder.mutation({
      query: (data) => ({
        url: USERS_URL + '/authenticate',
        method: 'POST',
        body: data,
      }),
    }),
    register: builder.mutation({
      query: (data) => ({
        url: USERS_URL,
        method: 'POST',
        body: data,
      }),
    }),
    logout: builder.mutation({
      query: () => ({
        url: USERS_URL + '/logout',
        method: 'POST',
      }),
    }),
    updateProfile: builder.mutation({
      query: (data) => ({
        url: USERS_URL + '/profile',
        method: 'PUT',
        body: data,
      }),
    }),
  }),
});

// Naming Convention:
// mutation: use{Resource}Mutation
// query: use{Resource}Query
// subscription: use{Resource}Subscription
//
//
// ex: useLoginMutation, useLoginQuery, useLoginSubscription

```

1. **Import Statement:**
    
    - `import { apiSlice } from '.';`: This line imports the `apiSlice` that we previously defined. The `apiSlice` contains information about your API endpoints.
2. **Endpoint Definitions:**
    
    - `const USERS_URL = '/api/users';`: This sets a constant for the base URL of your user-related API endpoints (e.g., login, registration, profile updates).
    - `export const usersApi = apiSlice.injectEndpoints({ ... });`: This creates an `usersApi` object by injecting endpoints into the `apiSlice`.
        - Inside the `injectEndpoints` method, you define specific endpoints:
            - `login`: A mutation for user login. It sends a `POST` request to the authentication endpoint.
            - `register`: A mutation for user registration. It also sends a `POST` request.
            - `logout`: A mutation for user logout. It sends a `POST` request to the logout endpoint.
            - `updateProfile`: A mutation for updating user profiles. It sends a `PUT` request to the profile endpoint.
3. **Naming Convention:**
    
    - The comment explains the naming convention for hooks generated by Redux Toolkit’s query functionality:
        - `use{Resource}Mutation`: For mutations (e.g., `useLoginMutation`).
        - `use{Resource}Query`: For queries (not defined in this snippet).
        - `use{Resource}Subscription`: For subscriptions (not defined in this snippet).
4. **Usage:**
    
    - You can now use the `usersApi` object to call these endpoints in your application. For example, you might use `useLoginMutation` to handle user login.