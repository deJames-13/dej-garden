---
{"dg-publish":true,"permalink":"/crash-course/3-hr-mern-stack-traversy-media/1-8-model/","noteIcon":""}
---

See [[Programming/Web Development/Mongoose/Mongoose Model\|Mongoose Model]]for more info about creating model in Express JS
See [[Crash Course/3HR MERN Stack - Traversy Media/File Structuring/Organizing Imports\|Organizing Imports]]for properly organizing models


> [!TIP] Create `ðŸ“‚model` and insert all the model files there
> 

You can use [[Crash Course/3HR MERN Stack - Traversy Media/Reusable Codes/My Model\|My Model]] to structurized model and handle reusable codes there.

### Creating Schema
`userModel.js`
```js
import Model from './model.js'; // import the model
import bcrypt from 'bcryptjs';
const User = new Model({
Â  name: 'User',
Â  schema: [
Â  Â  {
Â  Â  Â  name: {
Â  Â  Â  Â  type: String,
Â  Â  Â  Â  required: [true, 'Name is required'],
Â  Â  Â  },
Â  Â  Â  email: {
Â  Â  Â  Â  type: String,
Â  Â  Â  Â  required: [true, 'Email is required'],
Â  Â  Â  Â  unique: [true, 'Email already exists'],
Â  Â  Â  },
Â  Â  Â  password: {
Â  Â  Â  Â  type: String,
Â  Â  Â  Â  required: [true, 'Password is required'],
Â  Â  Â  },
Â  Â  },
Â  Â  { timestamps: true },
Â  ],
});
```

### Static Values
- are values accessible to the Model itself when created
```js
User.statics.fillables = ['name', 'email', 'password'];
User.statics.hidden = ['password'];
```
- This declares the *fillables* and *hidden* variables that can use to filter fields of the schema

### Methods
- are functions accessible to instantiated User model
```js
User.methods.matchPassword = async function (password) {
Â  console.log(
Â  Â  await bcrypt.compare(password, this.password),
Â  Â  password,
Â  Â  this.password
Â  );
Â  retur await bcrypt.compare(password, this.password);
};
```
- *This is a function that authenticates user password*
### Pre function
- what to do before an action 
```js
User.pre('save', async function (next) {
Â  if (this.isModified('password')) {
Â  Â  this.password = await this.hashPassword(this.password);
Â  }
Â  next();
});
```
- *This function handles the encryption of user password using `bcryptjs`*


### Make Model
- `makeModel` is a function from [[Crash Course/3HR MERN Stack - Traversy Media/Reusable Codes/My Model\|My Model]]that handles the creation of `mongoose` Model
```js
export default User.makeModel();
```
- Export it so that it can be used for other functionalities. 